{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block body %}
    {% if app.user %}
        <div class="p-4 dark:bg-gray-700">
        {# Affichage des messages flash #}
<div class="w-full px-4 mb-6">
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="mb-2 p-3 rounded shadow-lg transition
                {{ label == 'success' 
                    ? 'bg-green-200 text-green-900 dark:bg-green-700 dark:text-green-100' 
                    : 'bg-red-200 text-red-900 dark:bg-red-700 dark:text-red-100' }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}
</div>

            <div class="flex flex-left m-4 gap-4">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-gray-100">Tous les messages</h1>
                <a href="{{ path('message_add') }}" class="bg-green-600 text-white px-4 py-2 rounded mb-4 hover:bg-green-700">+ Nouveau message</a>
            </div>
            <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
                {% for message in messages %}
                    {% include 'partials/_card.html.twig' with {'message': message} %}
                {% else %}
                    <p>Aucun message pour le moment.</p>
                {% endfor %}
            </div>
        </div>
    {% endif %}
{% endblock %}
